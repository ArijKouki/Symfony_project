{% extends 'template.html.twig' %}

{% block title %}List{% endblock %}
{% block pageTitle %}List{% endblock %}
{% block body %}
    <div class="row">

        {#  {{ dump(_context) }}#}

        {%for personne in personnes%}
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">{{ personne.prénom }}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">{{ personne.nom }} {{ personne.prénom }}</h6>
                    <p class="card-text">Age : {{ personne.age }}</p>
                    <a href="{{ path('personne.detail', {'id': personne.id}) }}" class="card-link">Details</a>

                </div>

            </div>
        {%endfor%}

        {%if isPaginated%}
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-end">
                    {%if(page!=1)%}
                    <li class="page-item">
                        <a class="page-link" href="{{  path( 'personne.list.page',{'page': page-1 ,'nbr': nbr} )  }}" tabindex="-1">Previous</a>
                    </li>
                    {%endif%}

                    {% for i in range(1,nbPages) %}
                        <li class="page-item"> <a class="page-link" href="{{  path( 'personne.list.page',{'page': i ,'nbr': nbr} )  }}"  >{{i}}</a> </li>
                    {%endfor%}

                    {%if(page!=nbPages)%}
                    <li class="page-item">
                        <a class="page-link" href="{{  path( 'personne.list.page',{'page': page+1,'nbr': nbr } )  }}">Next</a>
                    </li>
                    {%endif%}
                </ul>
            </nav>
        {%endif%}
    </div>
{% endblock %}
